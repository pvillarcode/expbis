<template>
  <div if:true={loading}>
    <lightning-spinner
      alternative-text="Loading"
      size="medium"
      variant="brand"
    ></lightning-spinner>
  </div>
  <div class="slds-grid slds-wrap slds-p-around_medium">
    <!-- Company Information Section -->
    <div
      class="slds-col slds-size_1-of-1 slds-large-size_5-of-12 slds-p-right_medium"
    >
      <div class="slds-card slds-p-around_medium">
        <header
          class="slds-media slds-media_center slds-has-flexi-truncate slds-m-bottom_medium"
        >
          <div class="slds-media__figure">
            <lightning-icon
              icon-name="standard:account"
              alternative-text="Company"
              size="small"
            ></lightning-icon>
          </div>
          <div class="slds-media__body">
            <h2
              class="slds-card__header-title slds-text-heading_medium slds-truncate"
            >
              {business.name}
            </h2>
          </div>
        </header>
        <div class="slds-card__body">
          <div class="slds-form-element slds-m-bottom_medium">
            <span class="slds-form-element__label slds-text-title_caps"
              >Address</span
            >
            <div class="slds-form-element__control">
              <div class="slds-text-body_regular">{business.address}</div>
            </div>
          </div>
          <div class="slds-form-element slds-m-bottom_large">
            <span class="slds-form-element__label slds-text-title_caps"
              >BIN</span
            >
            <div class="slds-form-element__control">
              <div class="slds-text-body_regular">{business.BIN}</div>
            </div>
          </div>
          <div class="slds-border-top slds-p-top_medium">
            <!--
            <lightning-button
              label="Add business owner"
              variant="neutral"
              class="slds-m-top_small"
            ></lightning-button>
            -->
          </div>
        </div>
      </div>
    </div>

    <!-- Customize Report Section -->
    <div
      class="slds-col slds-size_1-of-1 slds-large-size_7-of-12 slds-p-left_medium"
    >
      <div class="slds-card slds-p-around_medium">
        <header
          class="slds-media slds-media_center slds-has-flexi-truncate slds-m-bottom_medium"
        >
          <div class="slds-media__figure">
            <lightning-icon
              icon-name="standard:report"
              alternative-text="Report"
              size="small"
            ></lightning-icon>
          </div>
          <div class="slds-media__body">
            <h2 class="slds-card__header-title slds-text-heading_medium">
              Customize Report
            </h2>
          </div>
        </header>
        <div class="slds-card__body">
          <lightning-combobox
            name="reportSelect"
            label="Select report"
            value={value}
            placeholder="Select Report"
            options={reportOptions}
            onchange={handleReportChange}
            class="slds-m-bottom_medium"
          ></lightning-combobox>

          <p class="slds-text-body_regular slds-m-bottom_large">
            {reportDescription}
          </p>

          <div class="slds-form-element slds-m-bottom_large">
            <span class="slds-form-element__label slds-text-title_caps"
              >Select scoring model</span
            >
            <div class="slds-form-element__control">
              <lightning-radio-group
                name="scoringModel"
                label="Select scoring model"
                options={scoringModelOptions}
                value={selectedModel}
                onchange={handleScoringModelChange}
                type="radio"
              ></lightning-radio-group>
            </div>
          </div>

          <div class="slds-form-element slds-m-bottom_large">
            <span class="slds-form-element__label slds-text-title_caps"
              >Set default report setting (optional)</span
            >
            <div class="slds-form-element__control">
              <lightning-checkbox-group
                options={defaultOptions}
                value={selectedDefaultOptions}
              ></lightning-checkbox-group>
            </div>
          </div>

          <div class="slds-border-top slds-p-top_medium">
            <lightning-button
              label="Pull Report"
              variant="brand"
              class="slds-m-top_small"
              onclick={handlePullReportClick}
            ></lightning-button>
            <lightning-button
              label="New Search"
              variant="brand-outline"
              class="slds-m-top_small slds-m-left_small"
              onclick={handleClearSearch}
            ></lightning-button>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
