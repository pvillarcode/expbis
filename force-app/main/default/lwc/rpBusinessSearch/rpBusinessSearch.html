<template>
  <div if:true={isLoading}>
    <lightning-spinner
      alternative-text="Loading"
      size="medium"
      variant="brand"
    ></lightning-spinner>
  </div>

  <div class="slds-card slds-m-around_medium">
    <div class="slds-card__header slds-grid">
      <header class="slds-media slds-media_center slds-has-flexi-truncate">
        <div class="slds-media__figure">
          <lightning-icon
            icon-name="standard:record"
            size="small"
          ></lightning-icon>
        </div>
        <div class="slds-media__body">
          <h2 class="slds-card__header-title slds-truncate">
            Business Information
          </h2>
        </div>
      </header>
    </div>
    <div class="slds-card__body">
      <form class="slds-form slds-form_stacked custom-form">
        <div class="slds-scrollable_y form-container">
          <lightning-radio-group
            name="searchType"
            label="Search by"
            options={searchOptions}
            value={searchType}
            onchange={handleSearchTypeChange}
            class="slds-m-bottom_medium"
          >
          </lightning-radio-group>

          <lightning-input
            label="BIN"
            name="bin"
            value={searchCriteria.bin}
            onchange={handleInputChange}
            data-id="bin"
            class="slds-m-bottom_small"
          ></lightning-input>
          <lightning-input
            label="Business name"
            required
            name="businessName"
            value={searchCriteria.businessName}
            onchange={handleInputChange}
            data-id="businessName"
            class="slds-m-bottom_small"
          ></lightning-input>
          <lightning-input
            label="Address"
            name="address"
            value={searchCriteria.address}
            onchange={handleInputChange}
            data-id="address"
            class="slds-m-bottom_small"
          ></lightning-input>

          <div class="slds-grid slds-gutters slds-m-bottom_small">
            <div class="slds-col">
              <lightning-input
                label="City"
                required
                name="city"
                value={searchCriteria.city}
                onchange={handleInputChange}
                data-id="city"
              ></lightning-input>
            </div>
            <div class="slds-col">
              <lightning-input
                label="State"
                required
                name="state"
                value={searchCriteria.state}
                onchange={handleInputChange}
                data-id="state"
              ></lightning-input>
            </div>
            <div class="slds-col">
              <lightning-input
                label="Zip"
                name="zip"
                value={searchCriteria.zip}
                onchange={handleInputChange}
                data-id="zip"
              ></lightning-input>
            </div>
          </div>

          <lightning-input
            label="Country"
            name="country"
            value={searchCriteria.country}
            onchange={handleInputChange}
            data-id="country"
            class="slds-m-bottom_small"
          ></lightning-input>
          <lightning-input
            label="Phone"
            name="phone"
            value={searchCriteria.phone}
            onchange={handleInputChange}
            data-id="phone"
            class="slds-m-bottom_small"
          ></lightning-input>
          <lightning-input
            label="Federal Tax ID"
            name="taxId"
            value={searchCriteria.taxId}
            onchange={handleInputChange}
            data-id="taxId"
            class="slds-m-bottom_small"
          ></lightning-input>
          <lightning-input
            label="Reference"
            name="reference"
            value={searchCriteria.reference}
            onchange={handleInputChange}
            data-id="reference"
            class="slds-m-bottom_small"
          ></lightning-input>
        </div>
      </form>
    </div>
    <footer class="slds-card__footer">
      <div class="button-container">
        <lightning-button
          variant="brand"
          label="Search"
          title="Search"
          onclick={handleSearch}
          class="slds-m-right_x-small"
        ></lightning-button>
        <lightning-button
          label="Clear search"
          onclick={handleClear}
          variant="neutral"
        ></lightning-button>
      </div>
    </footer>
  </div>
</template>
